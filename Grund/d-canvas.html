<!doctype html>
<html>
<head>
	<title>Taxi </title>
	<meta charset="utf-8">
	<script src="jquery-3.3.1.min.js"></script>
	<script>

    var bildObject = new Image();
    bildObject.src = 'taxi.png';

    var animation = function(winkel){

        var canvas = $('#mycanvas').get(0).getContext('2d');
        canvas.clearRect(0, 0, 200, 200);
        canvas.fillStyle = '#ff0';
        canvas.strokeStyle = '#333';

        canvas.translate(20, 20)
        canvas.fillRect(0, 0, 160, 160);

        canvas.lineWidth = 5;
        canvas.moveTo(0,0);
        canvas.lineTo(160, 0);
        canvas.lineTo(160, 160);
        canvas.lineTo(0, 0);
        canvas.closePath(0, 0);
        canvas.stroke();
        canvas.beginPath();
        canvas.strokeStyle = 'red';
        canvas.arc(80,80,70,0,2*Math.PI)
        canvas.stroke();
        canvas.beginPath();
        canvas.fillStyle = 'white';
        canvas.strokeStyle = '#333';
        canvas.arc(80,80,40,(0.25+winkel)*Math.PI,(1.25+winkel)*Math.PI)
        canvas.closePath();
        canvas.stroke();
        canvas.fill();
        canvas.fillStyle = 'black';
        canvas.font = '15px Arial bold';
        canvas.fillText('Hello', 5, 150);
        canvas.drawImage(bildObject, 80, 20);

        canvas.translate(-20, -20)

        window.requestAnimationFrame( function(){
                animation(winkel+0.01);
                });
        };



     $(document).ready(function() {

         animation(0);

         // canvas.strokeStyle = 'yellow';
         // canvas.fillRect(40, 40, 80, 80);
     });


	</script>
	<style>
    #mycanvas {border:1px solid};
	</style>
</head>
<body>
    <canvas id="mycanvas" width="200" height="200">
    </canvas>
</body>
</html>
